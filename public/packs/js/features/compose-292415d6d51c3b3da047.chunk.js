(window.webpackJsonp=window.webpackJsonp||[]).push([[452],{1385:function(e,a,t){"use strict";t.r(a);var s,i=t(0),o=t(1),c=t(2),r=t(8),n=t(50),l=t(97),d=t(21),g=t(10),b=t(315),u=t(317);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},h.apply(this,arguments)}function m(e){let{title:a,titleId:t,...i}=e;return c.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":t},i),a?c.createElement("title",{id:t},a):null,s||(s=c.createElement("path",{d:"M185.087-105.869q-32.507 0-55.862-23.356-23.356-23.355-23.356-55.862v-589.826q0-32.74 23.356-56.262 23.355-23.521 55.862-23.521h297.304v79.783H185.087v589.826h297.304v79.218H185.087Zm475.261-178.782-56.566-56.001 99.173-99.739H356.609v-79.218h344.346l-99.173-99.739 56.566-56.001L854.696-479 660.348-284.651Z"})))}t.p;var O=t(333),p=t(337),j=t(144),f=t(336),v=t(76),_=t.n(v),M=t(20),w=t(185),C=t(16),N=t(156),x=t(321),y=t(13),L=t(6),S=t(67),I=t(101),F=t(221),z=t(340),k=t(341),H=t(42),P=t(179),T=t(3),q=t.n(T),B=t(22),A=t(17),E=t.n(A),D=t(19),R=t(1244),U=t(148),W=t(314),J=t(324),Z=t(1245),G=t(186),X=t(313),Y=t(257),$=t(5);const K=10,Q=e=>e.size>K&&e.size%K==1?e.skipLast(1):e;class V extends D.a{constructor(){super(...arguments),Object(o.a)(this,"handleLoadMoreAccounts",(()=>this.props.expandSearch("accounts"))),Object(o.a)(this,"handleLoadMoreStatuses",(()=>this.props.expandSearch("statuses"))),Object(o.a)(this,"handleLoadMoreHashtags",(()=>this.props.expandSearch("hashtags")))}render(){const{results:e}=this.props;let a,t,s;return e.get("accounts")&&e.get("accounts").size>0&&(a=Object(i.a)(Z.a,{title:Object($.jsxs)($.Fragment,{children:[Object(i.a)(C.a,{id:"users",icon:b.a}),Object(i.a)(B.a,{id:"search_results.accounts",defaultMessage:"Profiles"})]})},void 0,Q(e.get("accounts")).map((e=>Object(i.a)(X.a,{id:e},e))),e.get("accounts").size>K&&e.get("accounts").size%K==1&&Object(i.a)(J.a,{visible:!0,onClick:this.handleLoadMoreAccounts}))),e.get("hashtags")&&e.get("hashtags").size>0&&(s=Object(i.a)(Z.a,{title:Object($.jsxs)($.Fragment,{children:[Object(i.a)(C.a,{id:"hashtag",icon:W.a}),Object(i.a)(B.a,{id:"search_results.hashtags",defaultMessage:"Hashtags"})]})},void 0,Q(e.get("hashtags")).map((e=>Object(i.a)(G.a,{hashtag:e},e.get("name")))),e.get("hashtags").size>K&&e.get("hashtags").size%K==1&&Object(i.a)(J.a,{visible:!0,onClick:this.handleLoadMoreHashtags}))),e.get("statuses")&&e.get("statuses").size>0&&(t=Object(i.a)(Z.a,{title:Object($.jsxs)($.Fragment,{children:[Object(i.a)(C.a,{id:"quote-right",icon:R.a}),Object(i.a)(B.a,{id:"search_results.statuses",defaultMessage:"Posts"})]})},void 0,Q(e.get("statuses")).map((e=>Object(i.a)(Y.a,{id:e},e))),e.get("statuses").size>K&&e.get("statuses").size%K==1&&Object(i.a)(J.a,{visible:!0,onClick:this.handleLoadMoreStatuses}))),Object(i.a)("div",{className:"search-results"},void 0,Object(i.a)("div",{className:"search-results__header"},void 0,Object(i.a)(C.a,{id:"search",icon:U.a}),Object(i.a)(B.a,{id:"explore.search_results",defaultMessage:"Search results"})),a,s,t)}}Object(o.a)(V,"propTypes",{results:E.a.map.isRequired,expandSearch:q.a.func.isRequired,searchTerm:q.a.string});var ee=V;var ae=Object(g.connect)((e=>({results:e.getIn(["search","results"]),suggestions:e.getIn(["suggestions","items"]),searchTerm:e.getIn(["search","searchTerm"])})),(e=>({fetchSuggestions:()=>e(Object(P.f)()),expandSearch:a=>e(Object(H.n)(a)),dismissSuggestion:a=>e(Object(P.e)(a.get("id")))})))(ee);const te=Object(r.d)({start:{id:"getting_started.heading",defaultMessage:"Getting started"},home_timeline:{id:"tabs_bar.home",defaultMessage:"Home"},notifications:{id:"tabs_bar.notifications",defaultMessage:"Notifications"},public:{id:"navigation_bar.public_timeline",defaultMessage:"Federated timeline"},community:{id:"navigation_bar.community_timeline",defaultMessage:"Local timeline"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"},compose:{id:"navigation_bar.compose",defaultMessage:"Compose new post"},logoutMessage:{id:"confirmations.logout.message",defaultMessage:"Are you sure you want to log out?"},logoutConfirm:{id:"confirmations.logout.confirm",defaultMessage:"Log out"}});class se extends c.PureComponent{constructor(){super(...arguments),Object(o.a)(this,"handleLogoutClick",(e=>{const{dispatch:a,intl:t}=this.props;return e.preventDefault(),e.stopPropagation(),a(Object(M.b)({modalType:"CONFIRM",modalProps:{message:t.formatMessage(te.logoutMessage),confirm:t.formatMessage(te.logoutConfirm),closeWhenConfirm:!1,onConfirm:()=>Object(N.a)()}})),!1})),Object(o.a)(this,"onFocus",(()=>{this.props.dispatch(Object(y.fb)(!0))})),Object(o.a)(this,"onBlur",(()=>{this.props.dispatch(Object(y.fb)(!1))}))}componentDidMount(){const{dispatch:e}=this.props;e(Object(y.sb)())}componentWillUnmount(){const{dispatch:e}=this.props;e(Object(y.Db)())}render(){const{multiColumn:e,showSearch:a,intl:t}=this.props;if(e){const{columns:s}=this.props;return Object(i.a)("div",{className:"drawer",role:"region","aria-label":t.formatMessage(te.compose)},void 0,Object(i.a)("nav",{className:"drawer__header"},void 0,Object(i.a)(d.a,{to:"/getting-started",className:"drawer__tab",title:t.formatMessage(te.start),"aria-label":t.formatMessage(te.start)},void 0,Object(i.a)(C.a,{id:"bars",icon:O.a})),!s.some((e=>"HOME"===e.get("id")))&&Object(i.a)(d.a,{to:"/home",className:"drawer__tab",title:t.formatMessage(te.home_timeline),"aria-label":t.formatMessage(te.home_timeline)},void 0,Object(i.a)(C.a,{id:"home",icon:u.a})),!s.some((e=>"NOTIFICATIONS"===e.get("id")))&&Object(i.a)(d.a,{to:"/notifications",className:"drawer__tab",title:t.formatMessage(te.notifications),"aria-label":t.formatMessage(te.notifications)},void 0,Object(i.a)(C.a,{id:"bell",icon:p.a})),!s.some((e=>"COMMUNITY"===e.get("id")))&&Object(i.a)(d.a,{to:"/public/local",className:"drawer__tab",title:t.formatMessage(te.community),"aria-label":t.formatMessage(te.community)},void 0,Object(i.a)(C.a,{id:"users",icon:b.a})),!s.some((e=>"PUBLIC"===e.get("id")))&&Object(i.a)(d.a,{to:"/public",className:"drawer__tab",title:t.formatMessage(te.public),"aria-label":t.formatMessage(te.public)},void 0,Object(i.a)(C.a,{id:"globe",icon:j.a})),Object(i.a)("a",{href:"/settings/preferences",className:"drawer__tab",title:t.formatMessage(te.preferences),"aria-label":t.formatMessage(te.preferences)},void 0,Object(i.a)(C.a,{id:"cog",icon:f.a})),Object(i.a)("a",{href:"/auth/sign_out",className:"drawer__tab",title:t.formatMessage(te.logout),"aria-label":t.formatMessage(te.logout),onClick:this.handleLogoutClick},void 0,Object(i.a)(C.a,{id:"sign-out",icon:m}))),e&&Object(i.a)(k.a,{}),Object(i.a)("div",{className:"drawer__pager"},void 0,Object(i.a)("div",{className:"drawer__inner",onFocus:this.onFocus},void 0,Object(i.a)(z.a,{onClose:this.onBlur}),Object(i.a)(F.a,{autoFocus:!Object(S.a)(window.innerWidth)}),Object(i.a)("div",{className:"drawer__inner__mastodon"},void 0,Object(i.a)("img",{alt:"",draggable:"false",src:L.n||x.default}))),Object(i.a)(I.a,{defaultStyle:{x:-100},style:{x:_()(a?0:-100,{stiffness:210,damping:20})}},void 0,(e=>{let{x:a}=e;return Object(i.a)("div",{className:"drawer__inner darker",style:{transform:`translateX(${a}%)`,visibility:-100===a?"hidden":"visible"}},void 0,Object(i.a)(ae,{}))}))))}return Object(i.a)(w.a,{onFocus:this.onFocus},void 0,Object(i.a)(z.a,{onClose:this.onBlur}),Object(i.a)(F.a,{}),Object(i.a)(l.a,{},void 0,Object(i.a)("meta",{name:"robots",content:"noindex"})))}}a.default=Object(g.connect)(((e,a)=>({columns:e.getIn(["settings","columns"]),showSearch:!!a.multiColumn&&(e.getIn(["search","submitted"])&&!e.getIn(["search","hidden"]))})))(Object(n.c)(se))}}]);
//# sourceMappingURL=compose-292415d6d51c3b3da047.chunk.js.map