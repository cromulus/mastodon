(window.webpackJsonp=window.webpackJsonp||[]).push([[473],{1377:function(t,e,i){"use strict";i.r(e);var a,n=i(0),o=i(1),s=i(52),c=i.n(s),l=i(3),r=i.n(l),d=i(2),u=i(8),h=i(22),g=i(50),p=i(97),b=i(4),f=i(10),m=i(41);function j(){return j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},j.apply(this,arguments)}function O(t){let{title:e,titleId:i,...n}=t;return d.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":i},n),e?d.createElement("title",{id:i},e):null,a||(a=d.createElement("path",{d:"M294.565-214.868 56.999-452.434 113-509l181 181 56.566 56.566-56.001 56.566ZM464-228.434 225.869-467.13 283-523.131l181 181 383.435-382.87L904.566-669 464-228.434Zm0-184.131-56.001-56.566 257-257L721-669.565l-257 257Z"})))}i.p;var v=i(337),_=i(36),M=i(16),w=i(1246),C=i(169),y=i(78),P=i(38),N=i(185),x=i(183),k=i(480),I=i(312),S=i(40),q=i(454),R=i(57),H=i(30),T=i(25);const F=Object(u.d)({close:{id:"lightbox.close",defaultMessage:"Close"}});class W extends d.PureComponent{constructor(){super(...arguments),Object(o.a)(this,"handleClick",(()=>{this.props.dispatch(Object(P.s)())})),Object(o.a)(this,"handleClose",(()=>{this.props.dispatch(Object(R.c)(["notifications","dismissPermissionBanner"],!0))}))}render(){const{intl:t}=this.props;return Object(n.a)("div",{className:"notifications-permission-banner"},void 0,Object(n.a)("div",{className:"notifications-permission-banner__close"},void 0,Object(n.a)(T.a,{icon:"times",iconComponent:S.a,onClick:this.handleClose,title:t.formatMessage(F.close)})),Object(n.a)("h2",{},void 0,Object(n.a)(h.a,{id:"notifications_permission_banner.title",defaultMessage:"Never miss a thing"})),Object(n.a)("p",{},void 0,Object(n.a)(h.a,{id:"notifications_permission_banner.how_to_control",defaultMessage:"To receive notifications when Mastodon isn't open, enable desktop notifications. You can control precisely which types of interactions generate desktop notifications through the {icon} button above once they're enabled.",values:{icon:Object(n.a)(M.a,{id:"sliders",icon:q.a})}})),Object(n.a)(H.a,{onClick:this.handleClick},void 0,Object(n.a)(h.a,{id:"notifications_permission_banner.enable",defaultMessage:"Enable desktop notifications"})))}}var D,B=Object(f.connect)()(Object(g.c)(W)),L=i(45),U=i(20),A=i(137),E=i(51);function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},z.apply(this,arguments)}function Z(t){let{title:e,titleId:i,...a}=t;return d.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":i},a),e?d.createElement("title",{id:i},e):null,D||(D=d.createElement("path",{d:"M362.13-293.348 480-412.652l118.87 119.304 54.348-54.782L535.348-468l117.87-119.87-54.348-55.348L480-523.348l-117.87-119.87-54.782 55.348L425.652-468 307.348-348.13l54.782 54.782ZM256.478-105.869q-32.74 0-56.262-23.356-23.522-23.355-23.522-55.862v-560.391h-50.609v-79.218h212.306v-40.175h282.653v40.175h212.871v79.218h-50.609v560.391q0 32.507-23.522 55.862-23.522 23.356-56.262 23.356H256.478Zm447.044-639.609H256.478v560.391h447.044v-560.391Zm-447.044 0v560.391-560.391Z"})))}i.p;class K extends d.PureComponent{render(){return Object(n.a)("button",{className:"text-btn column-header__setting-btn",tabIndex:0,onClick:this.props.onClick},void 0,Object(n.a)(M.a,{id:"eraser",icon:Z})," ",Object(n.a)(h.a,{id:"notifications.clear",defaultMessage:"Clear notifications"}))}}class $ extends d.PureComponent{render(){return Object(n.a)("button",{className:"text-btn column-header__permission-btn",tabIndex:0,onClick:this.props.onClick},void 0,Object(n.a)(h.a,{id:"notifications.grant_permission",defaultMessage:"Grant permission."}))}}var Y=i(1237);class G extends d.PureComponent{constructor(){super(...arguments),Object(o.a)(this,"onPushChange",((t,e)=>{this.props.onChange(["push",...t],e)}))}render(){const{settings:t,pushSettings:e,onChange:i,onClear:a,alertsEnabled:o,browserSupport:s,browserPermission:c,onRequestNotificationPermission:l}=this.props,r=Object(n.a)(h.a,{id:"notifications.column_settings.unread_notifications.highlight",defaultMessage:"Highlight unread notifications"}),d=Object(n.a)(h.a,{id:"notifications.column_settings.filter_bar.show_bar",defaultMessage:"Show filter bar"}),u=Object(n.a)(h.a,{id:"notifications.column_settings.filter_bar.advanced",defaultMessage:"Display all categories"}),g=Object(n.a)(h.a,{id:"notifications.column_settings.alert",defaultMessage:"Desktop notifications"}),p=Object(n.a)(h.a,{id:"notifications.column_settings.show",defaultMessage:"Show in column"}),b=Object(n.a)(h.a,{id:"notifications.column_settings.sound",defaultMessage:"Play sound"}),f=e.get("browserSupport")&&e.get("isSubscribed"),m=f&&Object(n.a)(h.a,{id:"notifications.column_settings.push",defaultMessage:"Push notifications"});return Object(n.a)("div",{},void 0,o&&s&&"denied"===c&&Object(n.a)("div",{className:"column-settings__row column-settings__row--with-margin"},void 0,Object(n.a)("span",{className:"warning-hint"},void 0,Object(n.a)(h.a,{id:"notifications.permission_denied",defaultMessage:"Desktop notifications are unavailable due to previously denied browser permissions request"}))),o&&s&&"default"===c&&Object(n.a)("div",{className:"column-settings__row column-settings__row--with-margin"},void 0,Object(n.a)("span",{className:"warning-hint"},void 0,Object(n.a)(h.a,{id:"notifications.permission_required",defaultMessage:"Desktop notifications are unavailable because the required permission has not been granted."})," ",Object(n.a)($,{onClick:l}))),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(K,{onClick:a})),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-unread-markers"},void 0,Object(n.a)("span",{id:"notifications-unread-markers",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.unread_notifications.category",defaultMessage:"Unread notifications"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{id:"unread-notification-markers",prefix:"notifications",settings:t,settingPath:["showUnread"],onChange:i,label:r}))),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-filter-bar"},void 0,Object(n.a)("span",{id:"notifications-filter-bar",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.filter_bar.category",defaultMessage:"Quick filter bar"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{id:"show-filter-bar",prefix:"notifications",settings:t,settingPath:["quickFilter","show"],onChange:i,label:d}),Object(n.a)(Y.a,{id:"show-filter-bar",prefix:"notifications",settings:t,settingPath:["quickFilter","advanced"],onChange:i,label:u}))),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-follow"},void 0,Object(n.a)("span",{id:"notifications-follow",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.follow",defaultMessage:"New followers:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","follow"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","follow"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","follow"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","follow"],onChange:i,label:b}))),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-follow-request"},void 0,Object(n.a)("span",{id:"notifications-follow-request",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.follow_request",defaultMessage:"New follow requests:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","follow_request"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","follow_request"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","follow_request"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","follow_request"],onChange:i,label:b}))),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-favourite"},void 0,Object(n.a)("span",{id:"notifications-favourite",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.favourite",defaultMessage:"Favorites:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","favourite"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","favourite"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","favourite"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","favourite"],onChange:i,label:b}))),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-mention"},void 0,Object(n.a)("span",{id:"notifications-mention",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.mention",defaultMessage:"Mentions:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","mention"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","mention"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","mention"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","mention"],onChange:i,label:b}))),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-reblog"},void 0,Object(n.a)("span",{id:"notifications-reblog",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.reblog",defaultMessage:"Boosts:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","reblog"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","reblog"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","reblog"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","reblog"],onChange:i,label:b}))),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-poll"},void 0,Object(n.a)("span",{id:"notifications-poll",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.poll",defaultMessage:"Poll results:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","poll"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","poll"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","poll"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","poll"],onChange:i,label:b}))),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-status"},void 0,Object(n.a)("span",{id:"notifications-status",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.status",defaultMessage:"New posts:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","status"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","status"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","status"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","status"],onChange:i,label:b}))),Object(n.a)("div",{role:"group","aria-labelledby":"notifications-update"},void 0,Object(n.a)("span",{id:"notifications-update",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.update",defaultMessage:"Edits:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","update"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","update"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","update"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","update"],onChange:i,label:b}))),(this.context.identity.permissions&E.d)===E.d&&Object(n.a)("div",{role:"group","aria-labelledby":"notifications-admin-sign-up"},void 0,Object(n.a)("span",{id:"notifications-status",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.admin.sign_up",defaultMessage:"New sign-ups:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","admin.sign_up"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","admin.sign_up"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","admin.sign_up"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","admin.sign_up"],onChange:i,label:b}))),(this.context.identity.permissions&E.c)===E.c&&Object(n.a)("div",{role:"group","aria-labelledby":"notifications-admin-report"},void 0,Object(n.a)("span",{id:"notifications-status",className:"column-settings__section"},void 0,Object(n.a)(h.a,{id:"notifications.column_settings.admin.report",defaultMessage:"New reports:"})),Object(n.a)("div",{className:"column-settings__row"},void 0,Object(n.a)(Y.a,{disabled:"denied"===c,prefix:"notifications_desktop",settings:t,settingPath:["alerts","admin.report"],onChange:i,label:g}),f&&Object(n.a)(Y.a,{prefix:"notifications_push",settings:e,settingPath:["alerts","admin.report"],onChange:this.onPushChange,label:m}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["shows","admin.report"],onChange:i,label:p}),Object(n.a)(Y.a,{prefix:"notifications",settings:t,settingPath:["sounds","admin.report"],onChange:i,label:b}))))}}Object(o.a)(G,"contextTypes",{identity:r.a.object});const J=Object(u.d)({clearMessage:{id:"notifications.clear_confirmation",defaultMessage:"Are you sure you want to permanently clear all your notifications?"},clearConfirm:{id:"notifications.clear",defaultMessage:"Clear notifications"},permissionDenied:{id:"notifications.permission_denied_alert",defaultMessage:"Desktop notifications can't be enabled, as browser permission has been denied before"}});var V=Object(g.c)(Object(f.connect)((t=>({settings:t.getIn(["settings","notifications"]),pushSettings:t.get("push_notifications"),alertsEnabled:t.getIn(["settings","notifications","alerts"]).includes(!0),browserSupport:t.getIn(["notifications","browserSupport"]),browserPermission:t.getIn(["notifications","browserPermission"])})),((t,e)=>{let{intl:i}=e;return{onChange(e,i){"push"===e[0]?i&&void 0!==window.Notification&&"granted"!==Notification.permission?t(Object(P.s)((a=>{t("granted"===a?Object(A.changeAlerts)(e.slice(1),i):Object(L.e)({message:J.permissionDenied}))}))):t(Object(A.changeAlerts)(e.slice(1),i)):"quickFilter"===e[0]?(t(Object(R.c)(["notifications",...e],i)),t(Object(P.u)("all"))):"alerts"===e[0]&&i&&void 0!==window.Notification&&"granted"!==Notification.permission&&i&&void 0!==window.Notification&&"granted"!==Notification.permission?t(Object(P.s)((a=>{t("granted"===a?Object(R.c)(["notifications",...e],i):Object(L.e)({message:J.permissionDenied}))}))):t(Object(R.c)(["notifications",...e],i))},onClear(){t(Object(U.b)({modalType:"CONFIRM",modalProps:{message:i.formatMessage(J.clearMessage),confirm:i.formatMessage(J.clearConfirm),onConfirm:()=>t(Object(P.m)())}}))},onRequestNotificationPermission(){t(Object(P.s)())}}}))(G)),Q=i(317),X=i(329),tt=i(318),et=i(100),it=i(205),at=i(189);const nt=Object(u.d)({mentions:{id:"notifications.filter.mentions",defaultMessage:"Mentions"},favourites:{id:"notifications.filter.favourites",defaultMessage:"Favorites"},boosts:{id:"notifications.filter.boosts",defaultMessage:"Boosts"},polls:{id:"notifications.filter.polls",defaultMessage:"Poll results"},follows:{id:"notifications.filter.follows",defaultMessage:"Follows"},statuses:{id:"notifications.filter.statuses",defaultMessage:"Updates from people you follow"}});class ot extends d.PureComponent{onClick(t){return()=>this.props.selectFilter(t)}render(){const{selectedFilter:t,advancedMode:e,intl:i}=this.props;return e?Object(n.a)("div",{className:"notification__filter-bar"},void 0,Object(n.a)("button",{className:"all"===t?"active":"",onClick:this.onClick("all")},void 0,Object(n.a)(h.a,{id:"notifications.filter.all",defaultMessage:"All"})),Object(n.a)("button",{className:"mention"===t?"active":"",onClick:this.onClick("mention"),title:i.formatMessage(nt.mentions)},void 0,Object(n.a)(M.a,{id:"reply-all",icon:it.a})),Object(n.a)("button",{className:"favourite"===t?"active":"",onClick:this.onClick("favourite"),title:i.formatMessage(nt.favourites)},void 0,Object(n.a)(M.a,{id:"star",icon:at.a})),Object(n.a)("button",{className:"reblog"===t?"active":"",onClick:this.onClick("reblog"),title:i.formatMessage(nt.boosts)},void 0,Object(n.a)(M.a,{id:"retweet",icon:et.a})),Object(n.a)("button",{className:"poll"===t?"active":"",onClick:this.onClick("poll"),title:i.formatMessage(nt.polls)},void 0,Object(n.a)(M.a,{id:"tasks",icon:X.a})),Object(n.a)("button",{className:"status"===t?"active":"",onClick:this.onClick("status"),title:i.formatMessage(nt.statuses)},void 0,Object(n.a)(M.a,{id:"home",icon:Q.a})),Object(n.a)("button",{className:"follow"===t?"active":"",onClick:this.onClick("follow"),title:i.formatMessage(nt.follows)},void 0,Object(n.a)(M.a,{id:"user-plus",icon:tt.a}))):Object(n.a)("div",{className:"notification__filter-bar"},void 0,Object(n.a)("button",{className:"all"===t?"active":"",onClick:this.onClick("all")},void 0,Object(n.a)(h.a,{id:"notifications.filter.all",defaultMessage:"All"})),Object(n.a)("button",{className:"mention"===t?"active":"",onClick:this.onClick("mention")},void 0,Object(n.a)(h.a,{id:"notifications.filter.mentions",defaultMessage:"Mentions"})))}}var st=Object(g.c)(ot);var ct,lt=Object(f.connect)((t=>({selectedFilter:t.getIn(["settings","notifications","quickFilter","active"]),advancedMode:t.getIn(["settings","notifications","quickFilter","advanced"])})),(t=>({selectFilter(e){t(Object(P.u)(e))}})))(st),rt=i(109),dt=i(13),ut=i(24),ht=i(32),gt=i(6),pt=i(43),bt=(i(31),i(11)),ft=i.n(bt),mt=i(21),jt=i(33),Ot=i(17),vt=i.n(Ot),_t=i(19),Mt=i(323);function wt(){return wt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},wt.apply(this,arguments)}function Ct(t){let{title:e,titleId:i,...a}=t;return d.createElement("svg",wt({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":i},a),e?d.createElement("title",{id:i},e):null,ct||(ct=d.createElement("path",{d:"M185.869-105.869v-708.827H554.87l19.189 86h240.637v398.827H532.13l-19-85H265.087v309h-79.218Z"})))}var yt;i.p;function Pt(){return Pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Pt.apply(this,arguments)}function Nt(t){let{title:e,titleId:i,...a}=t;return d.createElement("svg",Pt({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":i},a),e?d.createElement("title",{id:i},e):null,yt||(yt=d.createElement("path",{d:"M479.885-488.348q-72.333 0-118.174-45.842-45.842-45.842-45.842-118.174 0-72.333 45.842-118.29 45.841-45.957 118.174-45.957t118.572 45.957q46.239 45.957 46.239 118.29 0 72.332-46.239 118.174-46.239 45.842-118.572 45.842ZM145.869-138.521v-109.145q0-41.678 21.164-72.191 21.164-30.512 54.749-46.361 68.131-30.565 131.303-45.848 63.173-15.282 126.763-15.282 64.674 0 127.239 15.782 62.565 15.783 130.131 45.348 34.736 15.107 56.107 45.793 21.371 30.686 21.371 72.612v109.292H145.869Z"})))}var xt;i.p;function kt(){return kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},kt.apply(this,arguments)}function It(t){let{title:e,titleId:i,...a}=t;return d.createElement("svg",kt({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":i},a),e?d.createElement("title",{id:i},e):null,xt||(xt=d.createElement("path",{d:"M737.913-418.088v-126.608H611.305v-66.783h126.608v-126.609h66.783v126.609h126.609v66.783H804.696v126.608h-66.783Zm-376.898-70.26q-72.332 0-118.174-45.842-45.842-45.842-45.842-118.174 0-72.333 45.842-118.29 45.842-45.957 118.174-45.957 72.333 0 118.573 45.957 46.239 45.957 46.239 118.29 0 72.332-46.239 118.174-46.24 45.842-118.573 45.842ZM26.999-138.521v-109.261q0-39.128 19.872-70.622 19.871-31.494 56.042-47.814 76.13-33.565 136.02-47.348 59.89-13.782 121.915-13.782 63.109 0 122.804 13.782 59.696 13.783 135.261 47.348 36.171 16.672 56.543 47.654 20.371 30.981 20.371 70.653v109.39H26.999Z"})))}i.p;var St=i(192),qt=i(153),Rt=i(313),Ht=i(257),Tt=i(37),Ft=i(14),Wt=i(117),Dt=i(44),Bt=i(58),Lt=i(5);const Ut=Object(u.d)({authorize:{id:"follow_request.authorize",defaultMessage:"Authorize"},reject:{id:"follow_request.reject",defaultMessage:"Reject"}});class At extends _t.a{render(){const{intl:t,hidden:e,account:i,onAuthorize:a,onReject:o}=this.props;return i?e?Object(Lt.jsxs)(Lt.Fragment,{children:[i.get("display_name"),i.get("username")]}):Object(n.a)("div",{className:"account"},void 0,Object(n.a)("div",{className:"account__wrapper"},void 0,Object(n.a)(mt.a,{className:"account__display-name",title:i.get("acct"),to:`/@${i.get("acct")}`},i.get("id"),Object(n.a)("div",{className:"account__avatar-wrapper"},void 0,Object(n.a)(Dt.a,{account:i,size:36})),Object(n.a)(Bt.a,{account:i})),Object(n.a)("div",{className:"account__relationship"},void 0,Object(n.a)(T.a,{title:t.formatMessage(Ut.authorize),icon:"check",iconComponent:Wt.a,onClick:a}),Object(n.a)(T.a,{title:t.formatMessage(Ut.reject),icon:"times",iconComponent:S.a,onClick:o})))):Object(n.a)("div",{})}}Object(o.a)(At,"propTypes",{account:vt.a.record.isRequired,onAuthorize:r.a.func.isRequired,onReject:r.a.func.isRequired,intl:r.a.object.isRequired});var Et=Object(g.c)(At);var zt=Object(f.connect)((()=>{const t=Object(pt.e)();return(e,i)=>({account:t(e,i.id)})}),((t,e)=>{let{id:i}=e;return{onAuthorize(){t(Object(Ft.t)(i))},onReject(){t(Object(Ft.K)(i))}}}))(Et),Zt=i(220),Kt=i(88);const $t=Object(u.d)({openReport:{id:"report_notification.open",defaultMessage:"Open report"},other:{id:"report_notification.categories.other",defaultMessage:"Other"},spam:{id:"report_notification.categories.spam",defaultMessage:"Spam"},legal:{id:"report_notification.categories.legal",defaultMessage:"Legal"},violation:{id:"report_notification.categories.violation",defaultMessage:"Rule violation"}});class Yt extends _t.a{render(){const{intl:t,hidden:e,report:i,account:a}=this.props;return i?e?Object(Lt.jsx)(Lt.Fragment,{children:i.get("id")}):Object(n.a)("div",{className:"notification__report"},void 0,Object(n.a)("div",{className:"notification__report__avatar"},void 0,Object(n.a)(Zt.a,{account:i.get("target_account"),friend:a})),Object(n.a)("div",{className:"notification__report__details"},void 0,Object(n.a)("div",{},void 0,Object(n.a)(Kt.a,{timestamp:i.get("created_at"),short:!1})," · ",Object(n.a)(h.a,{id:"report_notification.attached_statuses",defaultMessage:"{count, plural, one {# post} other {# posts}} attached",values:{count:i.get("status_ids").size}}),Object(n.a)("br",{}),Object(n.a)("strong",{},void 0,t.formatMessage($t[i.get("category")]))),Object(n.a)("div",{className:"notification__report__actions"},void 0,Object(n.a)("a",{href:`/admin/reports/${i.get("id")}`,className:"button",target:"_blank",rel:"noopener noreferrer"},void 0,t.formatMessage($t.openReport))))):null}}Object(o.a)(Yt,"propTypes",{account:vt.a.record.isRequired,report:vt.a.map.isRequired,hidden:r.a.bool,intl:r.a.object.isRequired});var Gt=Object(g.c)(Yt);const Jt=Object(u.d)({favourite:{id:"notification.favourite",defaultMessage:"{name} favorited your status"},follow:{id:"notification.follow",defaultMessage:"{name} followed you"},ownPoll:{id:"notification.own_poll",defaultMessage:"Your poll has ended"},poll:{id:"notification.poll",defaultMessage:"A poll you have voted in has ended"},reblog:{id:"notification.reblog",defaultMessage:"{name} boosted your status"},status:{id:"notification.status",defaultMessage:"{name} just posted"},update:{id:"notification.update",defaultMessage:"{name} edited a post"},adminSignUp:{id:"notification.admin.sign_up",defaultMessage:"{name} signed up"},adminReport:{id:"notification.admin.report",defaultMessage:"{name} reported {target}"}}),Vt=(t,e,i)=>{const a=[e];return a.push(t.formatDate(i,{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"})),a.join(", ")};class Qt extends _t.a{constructor(){super(...arguments),Object(o.a)(this,"handleMoveUp",(()=>{const{notification:t,onMoveUp:e}=this.props;e(t.get("id"))})),Object(o.a)(this,"handleMoveDown",(()=>{const{notification:t,onMoveDown:e}=this.props;e(t.get("id"))})),Object(o.a)(this,"handleOpen",(()=>{const{notification:t}=this.props;t.get("status")?this.props.history.push(`/@${t.getIn(["status","account","acct"])}/${t.get("status")}`):this.handleOpenProfile()})),Object(o.a)(this,"handleOpenProfile",(()=>{const{notification:t}=this.props;this.props.history.push(`/@${t.getIn(["account","acct"])}`)})),Object(o.a)(this,"handleMention",(t=>{t.preventDefault();const{notification:e,onMention:i}=this.props;i(e.get("account"),this.props.history)})),Object(o.a)(this,"handleHotkeyFavourite",(()=>{const{status:t}=this.props;t&&this.props.onFavourite(t)})),Object(o.a)(this,"handleHotkeyBoost",(t=>{const{status:e}=this.props;e&&this.props.onReblog(e,t)})),Object(o.a)(this,"handleHotkeyToggleHidden",(()=>{const{status:t}=this.props;t&&this.props.onToggleHidden(t)}))}getHandlers(){return{reply:this.handleMention,favourite:this.handleHotkeyFavourite,boost:this.handleHotkeyBoost,mention:this.handleMention,open:this.handleOpen,openProfile:this.handleOpenProfile,moveUp:this.handleMoveUp,moveDown:this.handleMoveDown,toggleHidden:this.handleHotkeyToggleHidden}}renderFollow(t,e,i){const{intl:a,unread:o}=this.props;return Object(n.a)(qt.HotKeys,{handlers:this.getHandlers()},void 0,Object(n.a)("div",{className:ft()("notification notification-follow focusable",{unread:o}),tabIndex:0,"aria-label":Vt(a,a.formatMessage(Jt.follow,{name:e.get("acct")}),t.get("created_at"))},void 0,Object(n.a)("div",{className:"notification__message"},void 0,Object(n.a)(M.a,{id:"user-plus",icon:It}),Object(n.a)("span",{title:t.get("created_at")},void 0,Object(n.a)(h.a,{id:"notification.follow",defaultMessage:"{name} followed you",values:{name:i}}))),Object(n.a)(Rt.a,{id:e.get("id"),hidden:this.props.hidden})))}renderFollowRequest(t,e,i){const{intl:a,unread:o}=this.props;return Object(n.a)(qt.HotKeys,{handlers:this.getHandlers()},void 0,Object(n.a)("div",{className:ft()("notification notification-follow-request focusable",{unread:o}),tabIndex:0,"aria-label":Vt(a,a.formatMessage({id:"notification.follow_request",defaultMessage:"{name} has requested to follow you"},{name:e.get("acct")}),t.get("created_at"))},void 0,Object(n.a)("div",{className:"notification__message"},void 0,Object(n.a)(M.a,{id:"user",icon:Nt}),Object(n.a)("span",{title:t.get("created_at")},void 0,Object(n.a)(h.a,{id:"notification.follow_request",defaultMessage:"{name} has requested to follow you",values:{name:i}}))),Object(n.a)(zt,{id:e.get("id"),withNote:!1,hidden:this.props.hidden})))}renderMention(t){return Object(n.a)(Ht.a,{id:t.get("status"),withDismiss:!0,hidden:this.props.hidden,onMoveDown:this.handleMoveDown,onMoveUp:this.handleMoveUp,contextType:"notifications",getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth,unread:this.props.unread})}renderFavourite(t,e){const{intl:i,unread:a}=this.props;return Object(n.a)(qt.HotKeys,{handlers:this.getHandlers()},void 0,Object(n.a)("div",{className:ft()("notification notification-favourite focusable",{unread:a}),tabIndex:0,"aria-label":Vt(i,i.formatMessage(Jt.favourite,{name:t.getIn(["account","acct"])}),t.get("created_at"))},void 0,Object(n.a)("div",{className:"notification__message"},void 0,Object(n.a)(M.a,{id:"star",icon:St.a,className:"star-icon"}),Object(n.a)("span",{title:t.get("created_at")},void 0,Object(n.a)(h.a,{id:"notification.favourite",defaultMessage:"{name} favorited your status",values:{name:e}}))),Object(n.a)(Ht.a,{id:t.get("status"),account:t.get("account"),muted:!0,withDismiss:!0,hidden:!!this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth})))}renderReblog(t,e){const{intl:i,unread:a}=this.props;return Object(n.a)(qt.HotKeys,{handlers:this.getHandlers()},void 0,Object(n.a)("div",{className:ft()("notification notification-reblog focusable",{unread:a}),tabIndex:0,"aria-label":Vt(i,i.formatMessage(Jt.reblog,{name:t.getIn(["account","acct"])}),t.get("created_at"))},void 0,Object(n.a)("div",{className:"notification__message"},void 0,Object(n.a)(M.a,{id:"retweet",icon:et.a}),Object(n.a)("span",{title:t.get("created_at")},void 0,Object(n.a)(h.a,{id:"notification.reblog",defaultMessage:"{name} boosted your status",values:{name:e}}))),Object(n.a)(Ht.a,{id:t.get("status"),account:t.get("account"),muted:!0,withDismiss:!0,hidden:this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth})))}renderStatus(t,e){const{intl:i,unread:a,status:o}=this.props;return o?Object(n.a)(qt.HotKeys,{handlers:this.getHandlers()},void 0,Object(n.a)("div",{className:ft()("notification notification-status focusable",{unread:a}),tabIndex:0,"aria-label":Vt(i,i.formatMessage(Jt.status,{name:t.getIn(["account","acct"])}),t.get("created_at"))},void 0,Object(n.a)("div",{className:"notification__message"},void 0,Object(n.a)(M.a,{id:"home",icon:Q.a}),Object(n.a)("span",{title:t.get("created_at")},void 0,Object(n.a)(h.a,{id:"notification.status",defaultMessage:"{name} just posted",values:{name:e}}))),Object(n.a)(Ht.a,{id:t.get("status"),account:t.get("account"),contextType:"notifications",muted:!0,withDismiss:!0,hidden:this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth}))):null}renderUpdate(t,e){const{intl:i,unread:a,status:o}=this.props;return o?Object(n.a)(qt.HotKeys,{handlers:this.getHandlers()},void 0,Object(n.a)("div",{className:ft()("notification notification-update focusable",{unread:a}),tabIndex:0,"aria-label":Vt(i,i.formatMessage(Jt.update,{name:t.getIn(["account","acct"])}),t.get("created_at"))},void 0,Object(n.a)("div",{className:"notification__message"},void 0,Object(n.a)(M.a,{id:"pencil",icon:Mt.a}),Object(n.a)("span",{title:t.get("created_at")},void 0,Object(n.a)(h.a,{id:"notification.update",defaultMessage:"{name} edited a post",values:{name:e}}))),Object(n.a)(Ht.a,{id:t.get("status"),account:t.get("account"),contextType:"notifications",muted:!0,withDismiss:!0,hidden:this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth}))):null}renderPoll(t,e){const{intl:i,unread:a,status:o}=this.props,s=gt.o===e.get("id"),c=s?i.formatMessage(Jt.ownPoll):i.formatMessage(Jt.poll);return o?Object(n.a)(qt.HotKeys,{handlers:this.getHandlers()},void 0,Object(n.a)("div",{className:ft()("notification notification-poll focusable",{unread:a}),tabIndex:0,"aria-label":Vt(i,c,t.get("created_at"))},void 0,Object(n.a)("div",{className:"notification__message"},void 0,Object(n.a)(M.a,{id:"tasks",icon:X.a}),Object(n.a)("span",{title:t.get("created_at")},void 0,s?Object(n.a)(h.a,{id:"notification.own_poll",defaultMessage:"Your poll has ended"}):Object(n.a)(h.a,{id:"notification.poll",defaultMessage:"A poll you have voted in has ended"}))),Object(n.a)(Ht.a,{id:t.get("status"),account:e,contextType:"notifications",muted:!0,withDismiss:!0,hidden:this.props.hidden,getScrollPosition:this.props.getScrollPosition,updateScrollBottom:this.props.updateScrollBottom,cachedMediaWidth:this.props.cachedMediaWidth,cacheMediaWidth:this.props.cacheMediaWidth}))):null}renderAdminSignUp(t,e,i){const{intl:a,unread:o}=this.props;return Object(n.a)(qt.HotKeys,{handlers:this.getHandlers()},void 0,Object(n.a)("div",{className:ft()("notification notification-admin-sign-up focusable",{unread:o}),tabIndex:0,"aria-label":Vt(a,a.formatMessage(Jt.adminSignUp,{name:e.get("acct")}),t.get("created_at"))},void 0,Object(n.a)("div",{className:"notification__message"},void 0,Object(n.a)(M.a,{id:"user-plus",icon:It}),Object(n.a)("span",{title:t.get("created_at")},void 0,Object(n.a)(h.a,{id:"notification.admin.sign_up",defaultMessage:"{name} signed up",values:{name:i}}))),Object(n.a)(Rt.a,{id:e.get("id"),hidden:this.props.hidden})))}renderAdminReport(t,e,i){const{intl:a,unread:o,report:s}=this.props;if(!s)return null;const c=s.get("target_account"),l={__html:c.get("display_name_html")},r=Object(n.a)("bdi",{},void 0,Object(n.a)(mt.a,{className:"notification__display-name",title:c.get("acct"),to:`/@${c.get("acct")}`,dangerouslySetInnerHTML:l}));return Object(n.a)(qt.HotKeys,{handlers:this.getHandlers()},void 0,Object(n.a)("div",{className:ft()("notification notification-admin-report focusable",{unread:o}),tabIndex:0,"aria-label":Vt(a,a.formatMessage(Jt.adminReport,{name:e.get("acct"),target:t.getIn(["report","target_account","acct"])}),t.get("created_at"))},void 0,Object(n.a)("div",{className:"notification__message"},void 0,Object(n.a)(M.a,{id:"flag",icon:Ct}),Object(n.a)("span",{title:t.get("created_at")},void 0,Object(n.a)(h.a,{id:"notification.admin.report",defaultMessage:"{name} reported {target}",values:{name:i,target:r}}))),Object(n.a)(Gt,{account:e,report:t.get("report"),hidden:this.props.hidden})))}render(){const{notification:t}=this.props,e=t.get("account"),i={__html:e.get("display_name_html")},a=Object(n.a)("bdi",{},void 0,Object(n.a)(mt.a,{className:"notification__display-name",href:`/@${e.get("acct")}`,title:e.get("acct"),to:`/@${e.get("acct")}`,dangerouslySetInnerHTML:i}));switch(t.get("type")){case"follow":return this.renderFollow(t,e,a);case"follow_request":return this.renderFollowRequest(t,e,a);case"mention":return this.renderMention(t);case"favourite":return this.renderFavourite(t,a);case"reblog":return this.renderReblog(t,a);case"status":return this.renderStatus(t,a);case"update":return this.renderUpdate(t,a);case"poll":return this.renderPoll(t,e);case"admin.sign_up":return this.renderAdminSignUp(t,e,a);case"admin.report":return this.renderAdminReport(t,e,a)}return null}}Object(o.a)(Qt,"propTypes",{notification:vt.a.map.isRequired,hidden:r.a.bool,onMoveUp:r.a.func.isRequired,onMoveDown:r.a.func.isRequired,onMention:r.a.func.isRequired,onFavourite:r.a.func.isRequired,onReblog:r.a.func.isRequired,onToggleHidden:r.a.func.isRequired,status:vt.a.map,intl:r.a.object.isRequired,getScrollPosition:r.a.func,updateScrollBottom:r.a.func,cacheMediaWidth:r.a.func,cachedMediaWidth:r.a.number,unread:r.a.bool,...Tt.b});var Xt=Object(jt.i)(Object(g.c)(Qt));var te=Object(f.connect)((()=>{const t=Object(pt.f)(),e=Object(pt.i)(),i=Object(pt.h)();return(a,n)=>{const o=t(a,n.notification,n.accountId);return{notification:o,status:o.get("status")?e(a,{id:o.get("status"),contextType:"notifications"}):null,report:o.get("report")?i(a,o.get("report"),o.getIn(["report","target_account","id"])):null}}}),(t=>({onMention:(e,i)=>{t(Object(dt.rb)(e,i))},onModalReblog(e,i){t(Object(ut.L)(e,i))},onReblog(e,i){e.get("reblogged")?t(Object(ut.P)(e)):i.shiftKey||!gt.b?this.onModalReblog(e):t(Object(rt.d)({status:e,onReblog:this.onModalReblog}))},onFavourite(e){e.get("favourited")?t(Object(ut.N)(e)):t(Object(ut.H)(e))},onToggleHidden(e){e.get("hidden")?t(Object(ht.q)(e.get("id"))):t(Object(ht.o)(e.get("id")))}})))(Xt);const ee=Object(u.d)({title:{id:"column.notifications",defaultMessage:"Notifications"},markAsRead:{id:"notifications.mark_as_read",defaultMessage:"Mark every notification as read"}}),ie=Object(m.a)([t=>t.getIn(["settings","notifications","shows"])],(t=>Object(b.List)(t.filter((t=>!t)).keys()))),ae=Object(m.a)([t=>t.getIn(["settings","notifications","quickFilter","show"]),t=>t.getIn(["settings","notifications","quickFilter","active"]),ie,t=>t.getIn(["notifications","items"])],((t,e,i,a)=>t&&"all"!==e?a.filter((t=>null===t||e===t.get("type"))):a.filterNot((t=>null!==t&&i.includes(t.get("type"))))));class ne extends d.PureComponent{constructor(){super(...arguments),Object(o.a)(this,"handleLoadGap",(t=>{this.props.dispatch(Object(P.n)({maxId:t}))})),Object(o.a)(this,"handleLoadOlder",c()((()=>{const t=this.props.notifications.last();this.props.dispatch(Object(P.n)({maxId:t&&t.get("id")}))}),300,{leading:!0})),Object(o.a)(this,"handleLoadPending",(()=>{this.props.dispatch(Object(P.o)())})),Object(o.a)(this,"handleScrollToTop",c()((()=>{this.props.dispatch(Object(P.t)(!0))}),100)),Object(o.a)(this,"handleScroll",c()((()=>{this.props.dispatch(Object(P.t)(!1))}),100)),Object(o.a)(this,"handlePin",(()=>{const{columnId:t,dispatch:e}=this.props;e(t?Object(C.h)(t):Object(C.e)("NOTIFICATIONS",{}))})),Object(o.a)(this,"handleMove",(t=>{const{columnId:e,dispatch:i}=this.props;i(Object(C.g)(e,t))})),Object(o.a)(this,"handleHeaderClick",(()=>{this.column.scrollTop()})),Object(o.a)(this,"setColumnRef",(t=>{this.column=t})),Object(o.a)(this,"handleMoveUp",(t=>{const e=this.props.notifications.findIndex((e=>null!==e&&e.get("id")===t))-1;this._selectChild(e,!0)})),Object(o.a)(this,"handleMoveDown",(t=>{const e=this.props.notifications.findIndex((e=>null!==e&&e.get("id")===t))+1;this._selectChild(e,!1)})),Object(o.a)(this,"handleMarkAsRead",(()=>{this.props.dispatch(Object(P.p)()),this.props.dispatch(Object(y.d)({immediate:!0}))}))}UNSAFE_componentWillMount(){this.props.dispatch(Object(P.q)())}componentWillUnmount(){this.handleLoadOlder.cancel(),this.handleScrollToTop.cancel(),this.handleScroll.cancel(),this.props.dispatch(Object(P.t)(!1)),this.props.dispatch(Object(P.w)())}_selectChild(t,e){const i=this.column.node,a=i.querySelector(`article:nth-of-type(${t+1}) .focusable`);a&&(e&&i.scrollTop>a.offsetTop?a.scrollIntoView(!0):!e&&i.scrollTop+i.clientHeight<a.offsetTop+a.offsetHeight&&a.scrollIntoView(!1),a.focus())}render(){const{intl:t,notifications:e,isLoading:i,isUnread:a,columnId:o,multiColumn:s,hasMore:c,numPending:l,showFilterBar:r,lastReadId:d,canMarkAsRead:u,needsNotificationPermission:g}=this.props,b=!!o,f=Object(n.a)(h.a,{id:"empty_column.notifications",defaultMessage:"You don't have any notifications yet. When other people interact with you, you will see it here."}),{signedIn:m}=this.context.identity;let j=null;const C=m&&r?Object(n.a)(lt,{}):null;let y;j=i&&this.scrollableContent?this.scrollableContent:e.size>0||c?e.map(((t,a)=>null===t?Object(n.a)(k.a,{disabled:i,maxId:a>0?e.getIn([a-1,"id"]):null,onClick:this.handleLoadGap},"gap:"+e.getIn([a+1,"id"])):Object(n.a)(te,{notification:t,accountId:t.get("account"),onMoveUp:this.handleMoveUp,onMoveDown:this.handleMoveDown,unread:"0"!==d&&Object(_.a)(t.get("id"),d)>0},t.get("id")))):null,this.scrollableContent=j,y=m?Object(n.a)(I.a,{scrollKey:`notifications-${o}`,trackScroll:!b,isLoading:i,showLoading:i&&0===e.size,hasMore:c,numPending:l,prepend:g&&Object(n.a)(B,{}),alwaysPrepend:!0,emptyMessage:f,onLoadMore:this.handleLoadOlder,onLoadPending:this.handleLoadPending,onScrollToTop:this.handleScrollToTop,onScroll:this.handleScroll,bindToDocument:!s},void 0,j):Object(n.a)(w.a,{});let P=null;return u&&(P=Object(n.a)("button",{"aria-label":t.formatMessage(ee.markAsRead),title:t.formatMessage(ee.markAsRead),onClick:this.handleMarkAsRead,className:"column-header__button"},void 0,Object(n.a)(M.a,{id:"done-all",icon:O}))),Object(Lt.jsxs)(N.a,{bindToDocument:!s,ref:this.setColumnRef,label:t.formatMessage(ee.title),children:[Object(n.a)(x.a,{icon:"bell",iconComponent:v.a,active:a,title:t.formatMessage(ee.title),onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:b,multiColumn:s,extraButton:P},void 0,Object(n.a)(V,{})),C,y,Object(n.a)(p.a,{},void 0,Object(n.a)("title",{},void 0,t.formatMessage(ee.title)),Object(n.a)("meta",{name:"robots",content:"noindex"}))]})}}Object(o.a)(ne,"contextTypes",{identity:r.a.object}),Object(o.a)(ne,"defaultProps",{trackScroll:!0});e.default=Object(f.connect)((t=>({showFilterBar:t.getIn(["settings","notifications","quickFilter","show"]),notifications:ae(t),isLoading:t.getIn(["notifications","isLoading"],0)>0,isUnread:t.getIn(["notifications","unread"])>0||t.getIn(["notifications","pendingItems"]).size>0,hasMore:t.getIn(["notifications","hasMore"]),numPending:t.getIn(["notifications","pendingItems"],Object(b.List)()).size,lastReadId:t.getIn(["settings","notifications","showUnread"])?t.getIn(["notifications","readMarkerId"]):"0",canMarkAsRead:t.getIn(["settings","notifications","showUnread"])&&"0"!==t.getIn(["notifications","readMarkerId"])&&ae(t).some((e=>null!==e&&Object(_.a)(e.get("id"),t.getIn(["notifications","readMarkerId"]))>0)),needsNotificationPermission:t.getIn(["settings","notifications","alerts"]).includes(!0)&&t.getIn(["notifications","browserSupport"])&&"default"===t.getIn(["notifications","browserPermission"])&&!t.getIn(["settings","notifications","dismissPermissionBanner"])})))(Object(g.c)(ne))}}]);
//# sourceMappingURL=notifications-119ff6ee1205cd9212e5.chunk.js.map