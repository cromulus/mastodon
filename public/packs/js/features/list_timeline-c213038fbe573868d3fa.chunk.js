(window.webpackJsonp=window.webpackJsonp||[]).push([[470],{1393:function(e,t,s){"use strict";s.r(t);var i,a=s(0),o=s(1),l=(s(31),s(2)),n=s(8),c=s(22),d=s(50),r=s(97),h=s(33),p=s(10);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},b.apply(this,arguments)}function m(e){let{title:t,titleId:s,...a}=e;return l.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":s},a),t?l.createElement("title",{id:s},t):null,i||(i=l.createElement("path",{d:"M256.478-105.869q-33.49 0-56.637-22.981-23.147-22.98-23.147-56.237v-560.391h-50.609v-79.218h212.306v-40.175h282.653v40.175h212.871v79.218h-50.609v560.391q0 32.507-23.522 55.862-23.522 23.356-56.262 23.356H256.478Zm447.044-639.609H256.478v560.391h447.044v-560.391Zm-343.87 478.913h69.609v-399h-69.609v399Zm171.087 0h70.174v-399h-70.174v399ZM256.478-745.478v560.391-560.391Z"})))}s.p;var u=s(323),v=s(191),O=s(319),j=s.n(O),g=s(169),f=s(28),y=s(20),M=s(316),_=s(23),w=s(185),C=s(183),k=s(16),x=s(184),I=s(1247),T=s(124),N=s(1238),E=(s(37),s(5));const P=Object(n.d)({deleteMessage:{id:"confirmations.delete_list.message",defaultMessage:"Are you sure you want to permanently delete this list?"},deleteConfirm:{id:"confirmations.delete_list.confirm",defaultMessage:"Delete"},followed:{id:"lists.replies_policy.followed",defaultMessage:"Any followed user"},none:{id:"lists.replies_policy.none",defaultMessage:"No one"},list:{id:"lists.replies_policy.list",defaultMessage:"Members of the list"}});class D extends l.PureComponent{constructor(){super(...arguments),Object(o.a)(this,"handlePin",(()=>{const{columnId:e,dispatch:t}=this.props;e?t(Object(g.h)(e)):(t(Object(g.e)("LIST",{id:this.props.params.id})),this.props.history.push("/"))})),Object(o.a)(this,"handleMove",(e=>{const{columnId:t,dispatch:s}=this.props;s(Object(g.g)(t,e))})),Object(o.a)(this,"handleHeaderClick",(()=>{this.column.scrollTop()})),Object(o.a)(this,"setRef",(e=>{this.column=e})),Object(o.a)(this,"handleLoadMore",(e=>{const{id:t}=this.props.params;this.props.dispatch(Object(_.v)(t,{maxId:e}))})),Object(o.a)(this,"handleEditClick",(()=>{this.props.dispatch(Object(y.b)({modalType:"LIST_EDITOR",modalProps:{listId:this.props.params.id}}))})),Object(o.a)(this,"handleDeleteClick",(()=>{const{dispatch:e,columnId:t,intl:s}=this.props,{id:i}=this.props.params;e(Object(y.b)({modalType:"CONFIRM",modalProps:{message:s.formatMessage(P.deleteMessage),confirm:s.formatMessage(P.deleteConfirm),onConfirm:()=>{e(Object(f.F)(i)),t?e(Object(g.h)(t)):this.props.history.push("/lists")}}}))})),Object(o.a)(this,"handleRepliesPolicyChange",(e=>{let{target:t}=e;const{dispatch:s}=this.props,{id:i}=this.props.params;s(Object(f.Q)(i,void 0,!1,void 0,t.value))})),Object(o.a)(this,"onExclusiveToggle",(e=>{let{target:t}=e;const{dispatch:s}=this.props,{id:i}=this.props.params;s(Object(f.Q)(i,void 0,!1,t.checked,void 0))}))}componentDidMount(){const{dispatch:e}=this.props,{id:t}=this.props.params;e(Object(f.G)(t)),e(Object(_.v)(t)),this.disconnect=e(Object(M.d)(t))}UNSAFE_componentWillReceiveProps(e){const{dispatch:t}=this.props,{id:s}=e.params;s!==this.props.params.id&&(this.disconnect&&(this.disconnect(),this.disconnect=null),t(Object(f.G)(s)),t(Object(_.v)(s)),this.disconnect=t(Object(M.d)(s)))}componentWillUnmount(){this.disconnect&&(this.disconnect(),this.disconnect=null)}render(){const{hasUnread:e,columnId:t,multiColumn:s,list:i,intl:o}=this.props,{id:l}=this.props.params,n=!!t,d=i?i.get("title"):l,h=i?i.get("replies_policy"):void 0,p=i?i.get("exclusive"):void 0;return void 0===i?Object(a.a)(w.a,{},void 0,Object(a.a)("div",{className:"scrollable"},void 0,Object(a.a)(x.a,{}))):!1===i?Object(a.a)(T.a,{multiColumn:s,errorType:"routing"}):Object(E.jsxs)(w.a,{bindToDocument:!s,ref:this.setRef,label:d,children:[Object(a.a)(C.a,{icon:"list-ul",iconComponent:v.a,active:e,title:d,onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:n,multiColumn:s},void 0,Object(a.a)("div",{className:"column-settings__row column-header__links"},void 0,Object(a.a)("button",{type:"button",className:"text-btn column-header__setting-btn",tabIndex:0,onClick:this.handleEditClick},void 0,Object(a.a)(k.a,{id:"pencil",icon:u.a})," ",Object(a.a)(c.a,{id:"lists.edit",defaultMessage:"Edit list"})),Object(a.a)("button",{type:"button",className:"text-btn column-header__setting-btn",tabIndex:0,onClick:this.handleDeleteClick},void 0,Object(a.a)(k.a,{id:"trash",icon:m})," ",Object(a.a)(c.a,{id:"lists.delete",defaultMessage:"Delete list"}))),Object(a.a)("div",{className:"setting-toggle"},void 0,Object(a.a)(j.a,{id:`list-${l}-exclusive`,checked:p,onChange:this.onExclusiveToggle}),Object(a.a)("label",{htmlFor:`list-${l}-exclusive`,className:"setting-toggle__label"},void 0,Object(a.a)(c.a,{id:"lists.exclusive",defaultMessage:"Hide these posts from home"}))),void 0!==h&&Object(a.a)("div",{role:"group","aria-labelledby":`list-${l}-replies-policy`},void 0,Object(a.a)("span",{id:`list-${l}-replies-policy`,className:"column-settings__section"},void 0,Object(a.a)(c.a,{id:"lists.replies_policy.title",defaultMessage:"Show replies to:"})),Object(a.a)("div",{className:"column-settings__row"},void 0,["none","list","followed"].map((e=>Object(a.a)(I.a,{name:"order",value:e,label:o.formatMessage(P[e]),checked:h===e,onChange:this.handleRepliesPolicyChange},e)))))),Object(a.a)(N.a,{trackScroll:!n,scrollKey:`list_timeline-${t}`,timelineId:`list:${l}`,onLoadMore:this.handleLoadMore,emptyMessage:Object(a.a)(c.a,{id:"empty_column.list",defaultMessage:"There is nothing in this list yet. When members of this list post new statuses, they will appear here."}),bindToDocument:!s}),Object(a.a)(r.a,{},void 0,Object(a.a)("title",{},void 0,d),Object(a.a)("meta",{name:"robots",content:"noindex"}))]})}}t.default=Object(h.i)(Object(p.connect)(((e,t)=>({list:e.getIn(["lists",t.params.id]),hasUnread:e.getIn(["timelines",`list:${t.params.id}`,"unread"])>0})))(Object(d.c)(D)))}}]);
//# sourceMappingURL=list_timeline-c213038fbe573868d3fa.chunk.js.map