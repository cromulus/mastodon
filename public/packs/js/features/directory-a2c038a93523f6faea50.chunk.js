(window.webpackJsonp=window.webpackJsonp||[]).push([[455],{1152:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a(1),i=a(7),l=a(43),c=a(84),r=a(3),n=a(10),d=a(272),h=a(150),m=a(124),p=a(164),u=a(268),g=a(281),b=a(165),v=a(1127),O=a(282),j=a(1132),f=a(4);const C=Object(i.d)({title:{id:"column.directory",defaultMessage:"Browse profiles"},recentlyActive:{id:"directory.recently_active",defaultMessage:"Recently active"},newArrivals:{id:"directory.new_arrivals",defaultMessage:"New arrivals"},local:{id:"directory.local",defaultMessage:"From {domain} only"},federated:{id:"directory.federated",defaultMessage:"From known fediverse"}});class M extends o.PureComponent{constructor(){super(...arguments),this.state={order:null,local:null},this.handlePin=()=>{const{columnId:e,dispatch:t}=this.props;t(e?Object(h.h)(e):Object(h.e)("DIRECTORY",this.getParams(this.props,this.state)))},this.getParams=(e,t)=>({order:null===t.order?e.params.order||"active":t.order,local:null===t.local?e.params.local||!1:t.local}),this.handleMove=e=>{const{columnId:t,dispatch:a}=this.props;a(Object(h.g)(t,e))},this.handleHeaderClick=()=>{this.column.scrollTop()},this.setRef=e=>{this.column=e},this.handleChangeOrder=e=>{const{dispatch:t,columnId:a}=this.props;a?t(Object(h.f)(a,["order"],e.target.value)):this.setState({order:e.target.value})},this.handleChangeLocal=e=>{const{dispatch:t,columnId:a}=this.props;a?t(Object(h.f)(a,["local"],"1"===e.target.value)):this.setState({local:"1"===e.target.value})},this.handleLoadMore=()=>{const{dispatch:e}=this.props;e(Object(m.g)(this.getParams(this.props,this.state)))}}componentDidMount(){const{dispatch:e}=this.props;e(Object(m.h)(this.getParams(this.props,this.state)))}componentDidUpdate(e,t){const{dispatch:a}=this.props,s=this.getParams(e,t),o=this.getParams(this.props,this.state);s.order===o.order&&s.local===o.local||a(Object(m.h)(o))}render(){const{isLoading:e,accountIds:t,intl:a,columnId:o,multiColumn:i,domain:l}=this.props,{order:r,local:n}=this.getParams(this.props,this.state),h=!!o,m=Object(s.a)("div",{className:"scrollable"},void 0,Object(s.a)("div",{className:"filter-form"},void 0,Object(s.a)("div",{className:"filter-form__column",role:"group"},void 0,Object(s.a)(v.a,{name:"order",value:"active",label:a.formatMessage(C.recentlyActive),checked:"active"===r,onChange:this.handleChangeOrder}),Object(s.a)(v.a,{name:"order",value:"new",label:a.formatMessage(C.newArrivals),checked:"new"===r,onChange:this.handleChangeOrder})),Object(s.a)("div",{className:"filter-form__column",role:"group"},void 0,Object(s.a)(v.a,{name:"local",value:"1",label:a.formatMessage(C.local,{domain:l}),checked:n,onChange:this.handleChangeLocal}),Object(s.a)(v.a,{name:"local",value:"0",label:a.formatMessage(C.federated),checked:!n,onChange:this.handleChangeLocal}))),Object(s.a)("div",{className:"directory__list"},void 0,e?Object(s.a)(b.a,{}):t.map((e=>Object(s.a)(j.a,{id:e},e)))),Object(s.a)(g.a,{onClick:this.handleLoadMore,visible:!e}));return Object(f.jsxs)(p.a,{bindToDocument:!i,ref:this.setRef,label:a.formatMessage(C.title),children:[Object(s.a)(u.a,{icon:"address-book-o",iconComponent:d.a,title:a.formatMessage(C.title),onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:h,multiColumn:i}),i&&!h?Object(s.a)(O.a,{scrollKey:"directory"},void 0,m):m,Object(s.a)(c.a,{},void 0,Object(s.a)("title",{},void 0,a.formatMessage(C.title)),Object(s.a)("meta",{name:"robots",content:"noindex"}))]})}}t.default=Object(n.connect)((e=>({accountIds:e.getIn(["user_lists","directory","items"],Object(r.List)()),isLoading:e.getIn(["user_lists","directory","isLoading"],!0),domain:e.getIn(["meta","domain"])})))(Object(l.c)(M))}}]);
//# sourceMappingURL=directory-a2c038a93523f6faea50.chunk.js.map