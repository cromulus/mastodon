(window.webpackJsonp=window.webpackJsonp||[]).push([[448],{1259:function(t,e,a){"use strict";a.r(e);var s=a(1),c=a(0),o=a(3),n=a.n(o),i=a(22),d=a(4),u=a(17),r=a.n(u),p=a(19),l=a(10),b=a(1242),g=a(124),m=a(6),h=a(190),I=a(43),O=a(14),j=a(242),f=a(23),w=a(1236),y=a(184),M=a(320),_=a(1228),$=a(1243),L=a(1241);const R=Object(d.List)(),k=t=>{let{url:e}=t;return Object(c.a)(b.a,{url:e,resource:Object(c.a)(i.a,{id:"timeline_hint.resources.statuses",defaultMessage:"Older posts"})})};class A extends p.a{constructor(){super(...arguments),Object(s.a)(this,"handleLoadMore",(t=>{this.props.dispatch(Object(f.r)(this.props.accountId,{maxId:t,withReplies:this.props.withReplies,tagged:this.props.params.tagged}))}))}_load(){const{accountId:t,withReplies:e,params:{tagged:a},dispatch:s}=this.props;s(Object(O.A)(t)),e||s(Object(f.p)(t,{tagged:a})),s(Object(j.d)(t)),s(Object(f.r)(t,{withReplies:e,tagged:a})),t===m.o&&s(Object(f.m)(`account:${m.o}`))}componentDidMount(){const{params:{acct:t},accountId:e,dispatch:a}=this.props;e?this._load():a(Object(O.G)(t))}componentDidUpdate(t){const{params:{acct:e,tagged:a},accountId:s,withReplies:c,dispatch:o}=this.props;t.accountId!==s&&s?this._load():t.params.acct!==e?o(Object(O.G)(e)):t.params.tagged!==a&&(c||o(Object(f.p)(s,{tagged:a})),o(Object(f.r)(s,{withReplies:c,tagged:a}))),t.accountId===m.o&&s!==m.o&&o(Object(f.o)(`account:${m.o}`))}componentWillUnmount(){const{dispatch:t,accountId:e}=this.props;e===m.o&&t(Object(f.o)(`account:${m.o}`))}render(){const{accountId:t,statusIds:e,featuredStatusIds:a,isLoading:s,hasMore:o,blockedBy:n,suspended:d,isAccount:u,hidden:r,multiColumn:p,remote:l,remoteUrl:b}=this.props;if(s&&e.isEmpty())return Object(c.a)(_.a,{},void 0,Object(c.a)(y.a,{}));if(!s&&!u)return Object(c.a)(g.a,{multiColumn:p,errorType:"routing"});let m;const h=d||n||r;m=d?Object(c.a)(i.a,{id:"empty_column.account_suspended",defaultMessage:"Account suspended"}):r?Object(c.a)($.a,{accountId:t}):n?Object(c.a)(i.a,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"}):l&&e.isEmpty()?Object(c.a)(k,{url:b}):Object(c.a)(i.a,{id:"empty_column.account_timeline",defaultMessage:"No posts found"});const I=l?Object(c.a)(k,{url:b}):null;return Object(c.a)(_.a,{},void 0,Object(c.a)(w.a,{}),Object(c.a)(M.a,{prepend:Object(c.a)(L.a,{accountId:this.props.accountId,hideTabs:h,tagged:this.props.params.tagged}),alwaysPrepend:!0,append:I,scrollKey:"account_timeline",statusIds:h?R:e,featuredStatusIds:a,isLoading:s,hasMore:!h&&o,onLoadMore:this.handleLoadMore,emptyMessage:m,bindToDocument:!p,timelineId:"account"}))}}Object(s.a)(A,"propTypes",{params:n.a.shape({acct:n.a.string,id:n.a.string,tagged:n.a.string}).isRequired,accountId:n.a.string,dispatch:n.a.func.isRequired,statusIds:r.a.list,featuredStatusIds:r.a.list,isLoading:n.a.bool,hasMore:n.a.bool,withReplies:n.a.bool,blockedBy:n.a.bool,isAccount:n.a.bool,suspended:n.a.bool,hidden:n.a.bool,remote:n.a.bool,remoteUrl:n.a.string,multiColumn:n.a.bool}),e.default=Object(l.connect)(((t,e)=>{let{params:{acct:a,id:s,tagged:c},withReplies:o=!1}=e;const n=s||t.getIn(["accounts_map",Object(h.b)(a)]);if(null===n)return{isLoading:!1,isAccount:!1,statusIds:R};if(!n)return{isLoading:!0,statusIds:R};const i=o?`${n}:with_replies`:`${n}${c?`:${c}`:""}`;return{accountId:n,remote:!(t.getIn(["accounts",n,"acct"])===t.getIn(["accounts",n,"username"])),remoteUrl:t.getIn(["accounts",n,"url"]),isAccount:!!t.getIn(["accounts",n]),statusIds:t.getIn(["timelines",`account:${i}`,"items"],R),featuredStatusIds:o?Object(d.List)():t.getIn(["timelines",`account:${n}:pinned${c?`:${c}`:""}`,"items"],R),isLoading:t.getIn(["timelines",`account:${i}`,"isLoading"]),hasMore:t.getIn(["timelines",`account:${i}`,"hasMore"]),suspended:t.getIn(["accounts",n,"suspended"],!1),hidden:Object(I.b)(t,n),blockedBy:t.getIn(["relationships",n,"blocked_by"],!1)}}))(A)}}]);
//# sourceMappingURL=account_timeline-42eb6fb92d6abad28be3.chunk.js.map