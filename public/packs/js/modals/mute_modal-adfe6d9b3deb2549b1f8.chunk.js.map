{"version":3,"sources":["webpack:///./app/javascript/mastodon/features/ui/components/mute_modal.jsx"],"names":["messages","defineMessages","minutes","id","defaultMessage","hours","days","indefinite","MuteModal","PureComponent","constructor","arguments","_defineProperty","this","props","onClose","onConfirm","account","notifications","muteDuration","onToggleNotifications","e","onChangeMuteDuration","render","intl","_jsx","className","FormattedMessage","values","name","get","Toggle","checked","onChange","toggleNotifications","htmlFor","value","changeMuteDuration","formatMessage","number","Button","onClick","handleCancel","handleClick","autoFocus","connect","state","getIn","dispatch","muteAccount","closeModal","modalType","undefined","ignoreFocus","toggleHideNotifications","target","injectIntl"],"mappings":"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","file":"js/modals/mute_modal-adfe6d9b3deb2549b1f8.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\n\nimport { connect } from 'react-redux';\n\nimport Toggle from 'react-toggle';\n\nimport { muteAccount } from '../../../actions/accounts';\nimport { closeModal } from '../../../actions/modal';\nimport { toggleHideNotifications, changeMuteDuration } from '../../../actions/mutes';\nimport { Button } from '../../../components/button';\n\nconst messages = defineMessages({\n  minutes: { id: 'intervals.full.minutes', defaultMessage: '{number, plural, one {# minute} other {# minutes}}' },\n  hours: { id: 'intervals.full.hours', defaultMessage: '{number, plural, one {# hour} other {# hours}}' },\n  days: { id: 'intervals.full.days', defaultMessage: '{number, plural, one {# day} other {# days}}' },\n  indefinite: { id: 'mute_modal.indefinite', defaultMessage: 'Indefinite' },\n});\n\nconst mapStateToProps = state => {\n  return {\n    account: state.getIn(['mutes', 'new', 'account']),\n    notifications: state.getIn(['mutes', 'new', 'notifications']),\n    muteDuration: state.getIn(['mutes', 'new', 'duration']),\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onConfirm(account, notifications, muteDuration) {\n      dispatch(muteAccount(account.get('id'), notifications, muteDuration));\n    },\n\n    onClose() {\n      dispatch(closeModal({\n        modalType: undefined,\n        ignoreFocus: false,\n      }));\n    },\n\n    onToggleNotifications() {\n      dispatch(toggleHideNotifications());\n    },\n\n    onChangeMuteDuration(e) {\n      dispatch(changeMuteDuration(e.target.value));\n    },\n  };\n};\n\nclass MuteModal extends PureComponent {\n\n  static propTypes = {\n    account: PropTypes.object.isRequired,\n    notifications: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onConfirm: PropTypes.func.isRequired,\n    onToggleNotifications: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n    muteDuration: PropTypes.number.isRequired,\n    onChangeMuteDuration: PropTypes.func.isRequired,\n  };\n\n  handleClick = () => {\n    this.props.onClose();\n    this.props.onConfirm(this.props.account, this.props.notifications, this.props.muteDuration);\n  };\n\n  handleCancel = () => {\n    this.props.onClose();\n  };\n\n  toggleNotifications = () => {\n    this.props.onToggleNotifications();\n  };\n\n  changeMuteDuration = (e) => {\n    this.props.onChangeMuteDuration(e);\n  };\n\n  render () {\n    const { account, notifications, muteDuration, intl } = this.props;\n\n    return (\n      <div className='modal-root__modal mute-modal'>\n        <div className='mute-modal__container'>\n          <p>\n            <FormattedMessage\n              id='confirmations.mute.message'\n              defaultMessage='Are you sure you want to mute {name}?'\n              values={{ name: <strong>@{account.get('acct')}</strong> }}\n            />\n          </p>\n          <p className='mute-modal__explanation'>\n            <FormattedMessage\n              id='confirmations.mute.explanation'\n              defaultMessage='This will hide posts from them and posts mentioning them, but it will still allow them to see your posts and follow you.'\n            />\n          </p>\n          <div className='setting-toggle'>\n            <Toggle id='mute-modal__hide-notifications-checkbox' checked={notifications} onChange={this.toggleNotifications} />\n            <label className='setting-toggle__label' htmlFor='mute-modal__hide-notifications-checkbox'>\n              <FormattedMessage id='mute_modal.hide_notifications' defaultMessage='Hide notifications from this user?' />\n            </label>\n          </div>\n          <div>\n            <span><FormattedMessage id='mute_modal.duration' defaultMessage='Duration' />: </span>\n\n            {/* eslint-disable-next-line jsx-a11y/no-onchange */}\n            <select value={muteDuration} onChange={this.changeMuteDuration}>\n              <option value={0}>{intl.formatMessage(messages.indefinite)}</option>\n              <option value={300}>{intl.formatMessage(messages.minutes, { number: 5 })}</option>\n              <option value={1800}>{intl.formatMessage(messages.minutes, { number: 30 })}</option>\n              <option value={3600}>{intl.formatMessage(messages.hours, { number: 1 })}</option>\n              <option value={21600}>{intl.formatMessage(messages.hours, { number: 6 })}</option>\n              <option value={86400}>{intl.formatMessage(messages.days, { number: 1 })}</option>\n              <option value={259200}>{intl.formatMessage(messages.days, { number: 3 })}</option>\n              <option value={604800}>{intl.formatMessage(messages.days, { number: 7 })}</option>\n            </select>\n          </div>\n        </div>\n\n        <div className='mute-modal__action-bar'>\n          <Button onClick={this.handleCancel} className='mute-modal__cancel-button'>\n            <FormattedMessage id='confirmation_modal.cancel' defaultMessage='Cancel' />\n          </Button>\n          <Button onClick={this.handleClick} autoFocus>\n            <FormattedMessage id='confirmations.mute.confirm' defaultMessage='Mute' />\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectIntl(MuteModal));\n"],"sourceRoot":""}