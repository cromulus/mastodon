(window.webpackJsonp=window.webpackJsonp||[]).push([[588],{1155:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t(2),l=t.n(n),i=t(7),c=t(21),g=t(43),o=t(3),d=t(16),r=t.n(d),u=t(18),b=t(10),p=t(36),m=t(35),h=t(9),O=t(26),j=t(24),v=t(1120),f=t(5);const L=Object(i.d)({close:{id:"lightbox.close",defaultMessage:"Close"}}),_=Object(p.a)([(e,a)=>e.getIn(["timelines",`account:${a}`,"items"],Object(o.List)()),e=>e.get("statuses")],((e,a)=>new o.Set(e.map((e=>a.get(e))).filter((e=>!e.get("reblog"))).map((e=>e.get("language"))))));class S extends u.a{constructor(){super(...arguments),this.state={selectedLanguages:this.props.selectedLanguages},this.handleLanguageToggle=(e,a)=>{const{selectedLanguages:t}=this.state;a?this.setState({selectedLanguages:t.add(e)}):this.setState({selectedLanguages:t.delete(e)})},this.handleSubmit=()=>{this.props.onSubmit(this.state.selectedLanguages.toArray()),this.props.onClose()}}renderItem(e){const a=this.props.languages.find((a=>a[0]===e)),t=this.state.selectedLanguages.includes(e);return a?Object(s.a)(v.a,{name:"languages",value:e,label:a[1],checked:t,onToggle:this.handleLanguageToggle,multiple:!0},e):null}render(){const{acct:e,availableLanguages:a,selectedLanguages:t,intl:n,onClose:l}=this.props;return Object(s.a)("div",{className:"modal-root__modal report-dialog-modal"},void 0,Object(s.a)("div",{className:"report-modal__target"},void 0,Object(s.a)(j.a,{className:"report-modal__close",title:n.formatMessage(L.close),icon:"times",iconComponent:m.a,onClick:l,size:20}),Object(s.a)(c.a,{id:"subscribed_languages.target",defaultMessage:"Change subscribed languages for {target}",values:{target:Object(s.a)("strong",{},void 0,e)}})),Object(s.a)("div",{className:"report-dialog-modal__container"},void 0,Object(s.a)("p",{className:"report-dialog-modal__lead"},void 0,Object(s.a)(c.a,{id:"subscribed_languages.lead",defaultMessage:"Only posts in selected languages will appear on your home and list timelines after the change. Select none to receive posts in all languages."})),Object(s.a)("div",{},void 0,a.union(t).delete(null).map((e=>this.renderItem(e)))),Object(s.a)("div",{className:"flex-spacer"}),Object(s.a)("div",{className:"report-dialog-modal__actions"},void 0,Object(s.a)(O.a,{disabled:Object(o.is)(this.state.selectedLanguages,this.props.selectedLanguages),onClick:this.handleSubmit},void 0,Object(s.a)(c.a,{id:"subscribed_languages.save",defaultMessage:"Save changes"})))))}}S.propTypes={accountId:l.a.string.isRequired,acct:l.a.string.isRequired,availableLanguages:r.a.setOf(l.a.string),selectedLanguages:r.a.setOf(l.a.string),onClose:l.a.func.isRequired,languages:l.a.arrayOf(l.a.arrayOf(l.a.string)),intl:l.a.object.isRequired,submit:l.a.func.isRequired},S.defaultProps={languages:f.m},a.default=Object(b.connect)(((e,a)=>{let{accountId:t}=a;return{acct:e.getIn(["accounts",t,"acct"]),availableLanguages:_(e,t),selectedLanguages:Object(o.Set)(e.getIn(["relationships",t,"languages"])||Object(o.List)())}}),((e,a)=>{let{accountId:t}=a;return{onSubmit(a){e(Object(h.T)(t,{languages:a}))}}}))(Object(g.c)(S))}}]);
//# sourceMappingURL=subscribed_languages_modal-6632177ad701e4b2bb28.chunk.js.map