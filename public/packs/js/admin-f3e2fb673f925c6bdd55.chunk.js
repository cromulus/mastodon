(window.webpackJsonp=window.webpackJsonp||[]).push([[437],{1212:function(e,t,l){"use strict";l.r(t);var c=l(0),a=(l(143),l(126),l(2),l(119)),n=l(34),o=l(49),r=l(5);const s=e=>{var t;const l=(null==e?void 0:e.value)&&(null==e||null===(t=e.validity)||void 0===t?void 0:t.valid),c=document.querySelector('input[type="datetime-local"]#announcement_ends_at');l?(c.classList.remove("optional"),c.required=!0,c.min=e.value):(c.classList.add("optional"),c.removeAttribute("required"),c.removeAttribute("min"))};n.a.delegate(document,'input[type="datetime-local"]#announcement_starts_at',"change",(e=>{let{target:t}=e;s(t)}));const d='.batch-checkbox input[type="checkbox"]',i=()=>{document.querySelector(".batch-table__select-all").classList.add("active")},u=()=>{const e=document.querySelector(".batch-table__select-all"),t=document.querySelector("#select_all_matching"),l=document.querySelector(".batch-table__select-all .selected"),c=document.querySelector(".batch-table__select-all .not-selected");e.classList.remove("active"),l.classList.remove("active"),c.classList.add("active"),t.value="0"};n.a.delegate(document,"#batch_checkbox_all","change",(e=>{let{target:t}=e;const l=document.querySelector(".batch-table__select-all");[].forEach.call(document.querySelectorAll(d),(e=>{e.checked=t.checked})),l&&(t.checked?i():u())})),n.a.delegate(document,".batch-table__select-all button","click",(()=>{const e=document.querySelector("#select_all_matching"),t="1"===e.value,l=document.querySelector(".batch-table__select-all .selected"),c=document.querySelector(".batch-table__select-all .not-selected");t?(e.value="0",l.classList.remove("active"),c.classList.add("active")):(e.value="1",c.classList.remove("active"),l.classList.add("active"))})),n.a.delegate(document,d,"change",(()=>{const e=document.querySelector("#batch_checkbox_all"),t=document.querySelector(".batch-table__select-all");e&&(e.checked=[].every.call(document.querySelectorAll(d),(e=>e.checked)),e.indeterminate=!e.checked&&[].some.call(document.querySelectorAll(d),(e=>e.checked)),t&&(e.checked?i():u()))})),n.a.delegate(document,".media-spoiler-show-button","click",(()=>{[].forEach.call(document.querySelectorAll("button.media-spoiler"),(e=>{e.click()}))})),n.a.delegate(document,".media-spoiler-hide-button","click",(()=>{[].forEach.call(document.querySelectorAll(".spoiler-button.spoiler-button--visible button"),(e=>{e.click()}))})),n.a.delegate(document,".filter-subset--with-select select","change",(e=>{let{target:t}=e;t.form.submit()}));const m=e=>{const t=document.querySelector(".input.with_label.domain_block_reject_media"),l=document.querySelector(".input.with_label.domain_block_reject_reports");t&&(t.style.display="suspend"===e.value?"none":"block"),l&&(l.style.display="suspend"===e.value?"none":"block")};n.a.delegate(document,"#domain_block_severity","change",(e=>{let{target:t}=e;return m(t)}));const _=e=>{const t=document.querySelector("#form_admin_settings_bootstrap_timeline_accounts");t&&(t.disabled=!e.checked,e.checked?(t.parentElement.classList.remove("disabled"),t.parentElement.parentElement.classList.remove("disabled")):(t.parentElement.classList.add("disabled"),t.parentElement.parentElement.classList.add("disabled")))};n.a.delegate(document,"#form_admin_settings_enable_bootstrap_timeline_accounts","change",(e=>{let{target:t}=e;return _(t)}));const b=e=>{const t="approved"===e.value;[].forEach.call(document.querySelectorAll("#form_admin_settings_require_invite_text"),(e=>{if(e.disabled=!t,t){let t=e;do{t.classList.remove("disabled"),t=t.parentElement}while(t&&!t.classList.contains("fields-group"))}else{let t=e;do{t.classList.add("disabled"),t=t.parentElement}while(t&&!t.classList.contains("fields-group"))}}))},h=e=>{const t=new Date(e+"Z"),l=e=>e.toString().padStart(2,"0");return`${t.getFullYear()}-${l(t.getMonth()+1)}-${l(t.getDate())}T${l(t.getHours())}:${l(t.getMinutes())}`};n.a.delegate(document,"#form_admin_settings_registrations_mode","change",(e=>{let{target:t}=e;return b(t)})),Object(o.a)((()=>{var e;const t=document.getElementById("domain_block_severity");t&&m(t);const o=document.getElementById("form_admin_settings_enable_bootstrap_timeline_accounts");o&&_(o);const i=document.getElementById("form_admin_settings_registrations_mode");i&&b(i);const u=document.querySelector("#batch_checkbox_all");u&&(u.checked=[].every.call(document.querySelectorAll(d),(e=>e.checked)),u.indeterminate=!u.checked&&[].some.call(document.querySelectorAll(d),(e=>e.checked))),null===(e=document.querySelector("a#add-instance-button"))||void 0===e||e.addEventListener("click",(e=>{var t;const l=null===(t=document.querySelector('input[type="text"]#by_domain'))||void 0===t?void 0:t.value;if(l){const t=new URL(event.target.href);t.searchParams.set("_domain",l),e.target.href=t}})),[].forEach.call(document.querySelectorAll('input[type="datetime-local"]'),(e=>{e.value&&(e.value=h(e.value)),e.placeholder&&(e.placeholder=h(e.placeholder))})),n.a.delegate(document,"form","submit",(e=>{let{target:t}=e;[].forEach.call(t.querySelectorAll('input[type="datetime-local"]'),(e=>{e.value&&e.validity.valid&&(e.value=(e=>{const t=/^([0-9]{4,})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})/.exec(e),l=new Date(t[1],t[2]-1,t[3],t[4],t[5]).toISOString();return l.slice(0,l.indexOf("T")+6)})(e.value))}))}));const p=document.querySelector('input[type="datetime-local"]#announcement_starts_at');p&&s(p),[].forEach.call(document.querySelectorAll("[data-admin-component]"),(e=>{const t=e.getAttribute("data-admin-component"),n=JSON.parse(e.getAttribute("data-props"));l.e(595).then(l.bind(null,1374)).then((o=>{let{default:s}=o;return l(1213)("./"+t).then((t=>{let{default:l}=t;Object(a.createRoot)(e).render(Object(c.a)(s,{},void 0,Object(r.jsx)(l,{...n})))}))})).catch((e=>{console.error(e)}))}))}))},1213:function(e,t,l){var c={"./Counter":[948,0,431],"./Counter.jsx":[948,0,431],"./Dimension":[949,0,432],"./Dimension.jsx":[949,0,432],"./ImpactReport":[950,0,433],"./ImpactReport.jsx":[950,0,433],"./ReportReasonSelector":[951,0,434],"./ReportReasonSelector.jsx":[951,0,434],"./Retention":[952,0,435],"./Retention.jsx":[952,0,435],"./Trends":[953,0,436],"./Trends.jsx":[953,0,436]};function a(e){if(!l.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],a=t[0];return Promise.all(t.slice(1).map(l.e)).then((function(){return l(a)}))}a.keys=function(){return Object.keys(c)},a.id=1213,e.exports=a}},[[1212,0]]]);
//# sourceMappingURL=admin-f3e2fb673f925c6bdd55.chunk.js.map